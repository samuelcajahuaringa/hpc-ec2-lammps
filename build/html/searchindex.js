Search.setIndex({"docnames": ["index"], "filenames": ["index.rst"], "titles": ["Building a HPC Slurm Cluster using Amazon EC2"], "terms": {"index": [], "modul": [], "search": [], "page": [], "In": 0, "thi": 0, "repositori": 0, "i": 0, "my": 0, "endeavor": 0, "construct": 0, "scalabl": 0, "high": 0, "perform": 0, "comput": 0, "instantc": 0, "specif": 0, "tailor": 0, "scientif": 0, "applic": 0, "The": 0, "knowledg": 0, "gain": 0, "from": 0, "tutori": 0, "aim": 0, "assist": 0, "you": 0, "understand": 0, "basi": 0, "principl": 0, "your": [], "own": 0, "function": 0, "manag": 0, "final": 0, "exampl": 0, "we": 0, "run": [], "parallel": 0, "aplic": 0, "softwar": 0, "linux": 0, "virtual": 0, "vm": [], "withing": 0, "how": 0, "connect": 0, "oper": 0, "system": 0, "project": 0, "ubuntu": [], "server": [], "20": 0, "04": 0, "lt": 0, "which": 0, "ha": 0, "free": 0, "tier": 0, "ami": 0, "avail": 0, "t2": 0, "micro": 0, "type": 0, "make": 0, "sure": 0, "ar": 0, "incur": 0, "ani": 0, "cost": 0, "default": 0, "vpc": 0, "network": 0, "when": 0, "ask": 0, "do": 0, "add": [], "extra": 0, "storag": [], "more": 0, "than": 0, "enough": 0, "our": 0, "purpos": 0, "all": 0, "same": 0, "secur": 0, "group": 0, "time": 0, "instanti": 0, "them": 0, "otherwis": 0, "thei": 0, "can": 0, "t": 0, "access": 0, "each": 0, "other": 0, "For": 0, "first": 0, "choos": 0, "creat": [], "new": 0, "one": 0, "rule": 0, "traffic": 0, "sourc": 0, "0": 0, "second": 0, "nf": [], "rest": 0, "select": 0, "an": 0, "exist": 0, "have": 0, "ifconfig": 0, "command": 0, "know": 0, "privat": 0, "ip": 0, "address": 0, "should": 0, "rang": 0, "172": 0, "x": 0, "also": 0, "find": 0, "botton": 0, "web": 0, "consol": 0, "hostnam": 0, "alter": 0, "etc": 0, "sa": [], "sudo": 0, "vim": 0, "hi": 0, "wa": 0, "3": [], "head": [], "node": [], "worker": [], "edit": 0, "node01": 0, "node02": 0, "reebot": 0, "order": 0, "appli": 0, "chang": 0, "On": 0, "host": 0, "follow": 0, "line": 0, "end": 0, "its": 0, "rememb": 0, "It": 0, "like": 0, "127": 0, "localhost": 0, "01": 0, "02": 0, "desir": 0, "ipv6": 0, "capabl": 0, "ip6": 0, "loopback": 0, "fe00": 0, "localnet": 0, "ff00": 0, "mcastprefix": 0, "ff02": 0, "allnod": 0, "allrout": 0, "allhost": 0, "gener": 0, "kei": 0, "pair": 0, "copi": [], "public": 0, "content": 0, "includ": 0, "ssh": 0, "ed25519": 0, "remot": 0, "now": 0, "try": 0, "wai": 0, "keygen": 0, "n": 0, "f": 0, "id_25519": 0, "cat": 0, "pub": 0, "echo": 0, "past": 0, "here": 0, "authorized_kei": 0, "share": [], "directori": 0, "permiss": 0, "note": 0, "across": 0, "mkdir": 0, "chown": 0, "nobodi": 0, "nogroup": 0, "r": 0, "chmod": 0, "777": 0, "packag": 0, "export": 0, "look": 0, "want": 0, "mount": 0, "automat": 0, "boot": 0, "fstab": 0, "accomplish": 0, "ad": 0, "label": 0, "cloudimg": 0, "rootf": 0, "ext4": 0, "discard": 0, "error": 0, "remount": 0, "ro": 0, "uefi": 0, "efi": 0, "vfat": 0, "umask": 0, "0077": 0, "If": 0, "everyth": 0, "fine": 0, "see": 0, "df": 0, "h": 0, "addr": 0, "7941632": 0, "2305920": 0, "5619328": 0, "30": 0, "apt": 0, "updat": 0, "kernel": 0, "y": 0, "sh": 0, "c": [], "8": 0, "rw": 0, "sync": 0, "no_root_squash": 0, "no_subtree_check": 0, "exportf": 0, "control": [], "list": 0, "filesystem": 0, "mai": 0, "client": 0, "5": [], "nfsv2": 0, "nfsv3": 0, "srv": 0, "home": 0, "hostname1": 0, "hostname2": 0, "nfsv4": 0, "nfs4": 0, "gss": 0, "krb5i": 0, "fsid": 0, "crossmnt": 0, "o": 0, "preinstal": 0, "latest": 0, "version": 0, "befor": 0, "upgrad": 0, "wlm": 0, "ll": 0, "file": [], "base": 0, "over": 0, "cd": 0, "cp": 0, "usr": 0, "doc": 0, "conf": 0, "simpl": 0, "gz": 0, "gzip": 0, "d": 0, "mv": 0, "Then": 0, "code": [], "llnl": 0, "somewhat": 0, "superfici": 0, "custom": [], "log": 0, "AND": 0, "account": 0, "section": 0, "clusternam": 0, "info": [], "modifi": 0, "master": 0, "slurmctldhost": 0, "commun": 0, "between": 0, "compon": 0, "authent": [], "infrastructur": 0, "provid": 0, "dynam": 0, "load": 0, "plugin": 0, "chosen": 0, "runtim": 0, "via": 0, "authtyp": 0, "keyword": 0, "auth": 0, "mung": 0, "algorithm": [], "alloc": 0, "resourc": 0, "number": 0, "differ": 0, "consum": 0, "method": 0, "basic": 0, "mean": 0, "case": 0, "cpu": 0, "core": 0, "so": 0, "selecttyp": 0, "field": 0, "paramet": 0, "cons_r": 0, "selecttypeparamet": 0, "cr_core": 0, "need": 0, "tell": 0, "about": 0, "Near": 0, "entri": 0, "delet": 0, "nodenam": 0, "nodeaddr": 0, "state": 0, "unknown": 0, "partit": [], "Be": 0, "partitionnam": 0, "test": [], "ye": 0, "maxtim": 0, "infinit": 0, "cgroup": [], "support": [], "brought": 0, "integr": 0, "isol": 0, "restrict": 0, "what": 0, "allow": 0, "To": 0, "touch": 0, "inform": 0, "cgroupmountpoint": 0, "sy": 0, "cgroupautomount": 0, "cgroupreleaseagentdir": 0, "alloweddevicesfil": 0, "cgroup_allowed_devices_fil": 0, "constraincor": 0, "taskaffin": 0, "constrainramspac": 0, "constrainswapspac": 0, "constraindevic": 0, "allowedramspac": 0, "100": 0, "allowedswapspac": 0, "maxramperc": 0, "maxswapperc": 0, "minramspac": 0, "whitelist": 0, "devic": 0, "dev": 0, "null": 0, "urandom": 0, "zero": 0, "sda": 0, "pt": 0, "clusterf": [], "pretti": 0, "okai": 0, "could": 0, "alwai": 0, "tighten": 0, "suit": 0, "well": 0, "those": 0, "easier": 0, "systemctl": 0, "daemon": 0, "slurmd": 0, "And": 0, "slurmctld": 0, "step": 0, "problem": 0, "match": 0, "through": 0, "ve": 0, "check": 0, "sinfo": 0, "k": 0, "timelimit": 0, "nodelist": 0, "idl": 0, "u": 0, "srun": 0, "goe": 0, "someth": 0, "document": 0, "lammp": [], "": 0, "build": [], "hpc": [], "us": [], "amazon": [], "ec2": [], "set": [], "up": [], "machin": [], "form": [], "get": 0, "aw": 0, "instanc": 0, "show": 0, "amzon": 0, "calcul": 0, "most": 0, "popular": 0, "molecul": 0, "simul": 0, "larg": 0, "scale": 0, "atom": 0, "molecular": 0, "massiv": 0, "program": 0, "sandia": 0, "nation": 0, "laboratori": 0, "messag": 0, "pass": 0, "interfac": 0, "mpi": 0, "open": 0, "distribut": 0, "under": 0, "term": 0, "gnu": 0, "licens": 0, "onli": 0, "execut": 0, "orchestr": 0, "ensur": 0, "su": 0, "g": 0, "root": 0, "setup": 0, "correctli": 0, "wget": 0, "http": 0, "org": 0, "tar": 0, "stabl": 0, "xzf": 0, "becaus": 0, "re": 0, "go": 0, "grab": 0, "shell": 0, "pty": 0, "bash": 0, "2aug2023": 0, "src": 0, "lmpi": 0, "executavel": 0, "lmp_mpi": 0, "lennard": 0, "jone": 0, "submiss": 0, "script": 0, "melt": 0, "bin": 0, "sbatch": 0, "ntask": 0, "per": 0, "output": 0, "out": 0, "err": 0, "slurm_submit_dir": 0, "mpirun": 0, "np": 0, "submit": 0, "batch": 0, "18": 0, "8apr21": 0, "both": 0, "must": 0, "thermodynam": 0, "complet": 0, "discuss": 0, "openmpi": 0, "ran": 0, "hopefulli": 0, "happi": 0, "defult": [], "found": 0}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"welcom": [], "hpc": 0, "ec2": 0, "lammp": 0, "": [], "document": [], "indic": [], "tabl": [], "build": 0, "slurm": 0, "cluster": 0, "us": 0, "amazon": 0, "set": 0, "up": 0, "machin": 0, "form": 0, "1": 0, "get": [], "aw": [], "instanc": [], "run": 0, "2": 0, "give": 0, "your": 0, "vm": 0, "easi": 0, "name": 0, "3": 0, "configur": 0, "ubuntu": 0, "user": 0, "login": 0, "worker": 0, "node": 0, "without": 0, "password": 0, "instal": 0, "nf": 0, "server": 0, "head": 0, "work": 0, "combin": 0, "job": 0, "schedul": 0, "control": 0, "info": 0, "authent": 0, "4": 0, "custom": 0, "algorithm": 0, "5": 0, "add": 0, "6": 0, "creat": 0, "partit": 0, "7": [], "cgroup": 0, "support": 0, "8": [], "copi": 0, "file": 0, "share": 0, "storag": 0, "9": [], "enabl": 0, "start": 0, "servic": 0, "10": [], "reboot": 0, "option": 0, "munger": 0, "test": 0, "content": [], "11": [], "12": [], "intal": 0, "c": 0, "compil": 0, "cmake": 0, "download": 0, "rune": 0, "conclus": 0}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 57}, "alltitles": {"Building a HPC Slurm Cluster using Amazon EC2": [[0, "building-a-hpc-slurm-cluster-using-amazon-ec2"]], "1. Set-up machine that will form cluster:": [[0, "set-up-machine-that-will-form-cluster"]], "1.2 Give your VMs easy names": [[0, "give-your-vms-easy-names"]], "1.3 Configure ubuntu user to login to the worker nodes without password": [[0, "configure-ubuntu-user-to-login-to-the-worker-nodes-without-password"]], "2. Install and configuration of NFS:": [[0, "install-and-configuration-of-nfs"]], "2.1 Configure NFS server on the Head node": [[0, "configure-nfs-server-on-the-head-node"]], "2.2 Configure NFS on the workes nodes": [[0, "configure-nfs-on-the-workes-nodes"]], "3. Combine VMs as a cluster with SLURM job scheduler:": [[0, "combine-vms-as-a-cluster-with-slurm-job-scheduler"]], "3.1 Install SLURM on head node": [[0, "install-slurm-on-head-node"]], "3.2 SLURM configuration head node": [[0, "slurm-configuration-head-node"]], "3.2.1 Set the cluster name": [[0, "set-the-cluster-name"]], "3.2.2 Set the control machine info": [[0, "set-the-control-machine-info"]], "3.2.3 Set authentication": [[0, "set-authentication"]], "3.2.4 Customize the scheduler algorithm": [[0, "customize-the-scheduler-algorithm"]], "3.2.5 Add the nodes": [[0, "add-the-nodes"]], "3.2.6 Create a partition": [[0, "create-a-partition"]], "3.3 Configure cgroup support": [[0, "configure-cgroup-support"]], "3.4 Copy the Configuration Files to Shared Storage": [[0, "copy-the-configuration-files-to-shared-storage"]], "3.5 Enable and Start SLURM Control Services": [[0, "enable-and-start-slurm-control-services"]], "3.6 Reboot (optional)": [[0, "reboot-optional"]], "4. SLURM configuration workers node": [[0, "slurm-configuration-workers-node"]], "4.1 Enable and Start Munger": [[0, "enable-and-start-munger"]], "4.2 Enable and Start SLURM": [[0, "enable-and-start-slurm"]], "5. Test your SLURM cluster": [[0, "test-your-slurm-cluster"]], "6. Installing and Run LAMMPS": [[0, "installing-and-run-lammps"]], "6.1 Intall c++ compiler": [[0, "intall-c-compiler"]], "6.2 Intall cmake": [[0, "intall-cmake"]], "6.3 Download LAMMPS": [[0, "download-lammps"]], "6.4 Compiling LAMMPS": [[0, "compiling-lammps"]], "6.5 Runing LAMMPS": [[0, "runing-lammps"]], "Conclusion": [[0, "conclusion"]]}, "indexentries": {}})